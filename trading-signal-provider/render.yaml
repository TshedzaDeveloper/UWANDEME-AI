services:
  - type: web
    name: trading-signal-provider
    env: python
    buildCommand: pip install -r backend/requirements.txt
    startCommand: uvicorn backend.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: TRADINGVIEW_API_URL
        value: https://api.tradingview.example
      - key: TRADINGVIEW_API_KEY
        sync: false  # Set manually in dashboard
      - key: FOREX_CALENDAR_API_URL
        value: https://api.forexcalendar.example
      - key: FOREX_CALENDAR_API_KEY
        sync: false  # Set manually in dashboard
      - key: SYMBOLS
        value: EURUSD,GBPUSD,USDJPY
      - key: POLL_INTERVAL_SECONDS
        value: 60
      - key: NEWS_AVOID_MINUTES
        value: 15
      - key: DB_PATH
        value: signals.db
      - key: ENV
        value: production

